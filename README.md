# Skeleton-to-Light-OSC
將人體骨架資料轉換為燈光控制數據的即時系統，透過 OSC 串接 TouchDesigner。

1.解析字串 (Analysis.py) (track_2.csv) 

- 骨架資料形狀: (2657, 33, 3)

  - 2657 → 影片總共有 2657 幀 (frames)

  - 33 → 每幀有 33 個關節點 (joints)

  - 3 → 每個關節有三個座標值 (x, y, z)

  - 把原本一堆字串格式 (‘0.5’,‘0.1’,‘-2.2’)，整理成一個乾淨的骨架資料陣列

2.骨架數值 > OSC > Touchdesigner (pose_viewer_osc.py) (track_2.py) (Test1.toe)

3.數值說明 : 
- intensity
  - energy 表示該秒內人物整體的動作強度（所有關節位置的總量），本幀的座標 − 前一幀的座標，每個關節的三維位移量轉成「直線距離大小」，把 33 個關節點在這一秒的移動距離全部加起來
  - 如果人幾乎沒動，能量接近 0，如果人做了大動作（比如抬手、跳、轉），能量就高
  - energy 正規化到 0–1，動作上一秒在畫面中，下一秒暴衝出畫面，距離的計算無限大
- speed
  - 基礎速度 + 動作附加速度
  - 速度的下限是 0.6（靜止時的背景節奏），上限是 1.6（全力動作時的高速節奏）
- intensity & speed
  - intensity = 人的能量 (動作幅度越大，給人能量越強)
  - speed = 人的動作幅度變化越大，速度越快
- hue
  - 色相環數值通常指以角度0∘至360∘來表示顏色在色相環上的位置，例如紅色通常在0∘或360∘，綠色約在120∘
  - 計算前一秒和這一秒的角度變化量，根據角度變化量，對應到色相環的角度，角度變化量會持續累積
- event/jump
  - 重心高度變化超過一定門檻值，判定成跳躍
  - 先觀察垂直速度（com_vy）> 當整個身體平均高度的上升速度超過一定速度 (設定門檻（JUMP_VY）)
  - 再確認真的離地（com_y - baseline）> 把前 1 秒的身體重心當作「基準」，如果現在的高度比前一秒身體重心高出一定距離（JUMP_DY），代表真的「離地」
- event/spin
  - 當舞者在一秒的時間內，面向方向變化超過大約 90°，系統就會判定這是一個「快速旋轉」動作
  - Touchdesigner > 1 為順時針快速旋轉，-1 為逆時針快速旋轉
